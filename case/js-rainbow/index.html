<!doctype html>
<html lang="en" onselectstart="return false">
 <head>
  <meta charset="UTF-8">
  <title>彩虹圈——js特效</title>
 </head>
	<style type="text/css">
		*{margin:0; padding:0;}
		body{background:#000;}
		h1{width:700px; height:50px; margin:30px auto; color:#fff;}
		.pic{width:100%; height:100%;}
		.pic img{width:50px; height:50px; position:absolute;}
		img{}
	</style>
 <body>
  <h1>按下鼠标拖动的时候出现彩虹圈——js特效</h1>
  <div class="pic"></div>
  <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
  <script>
	$(function(){
		var index = -1;
		/*鼠标按下并且拖动的时候出现效果*/
		$(document).mousedown(function(){
			/*绑定鼠标拖动事件*/
			$(this).bind("mousemove",function(e){
				index++;
				var r = Math.floor(index/5)%5;
				
				var x = e.clientX;/*获取鼠标的x坐标*/
				var y = e.clientY;
				/*console.log(x); 在浏览器工具中查看*/
				
				$img = $('<img src="images/'+r+'.png" ondragstart="return false" style="top:'+(y-25)+'px; left:'+(x-25)+'px;"/>');
				$("body div").append($img);
				
				$img.animate({
					top:(y-225)+"px",
					left:(x-225)+"px",
					width:0,
					height:0
				},1000,function(){
					$(this).remove();
				});
			});
		}).mouseup(function(){/*松开鼠标时效果消失*/
			/*解除鼠标拖动绑定*/
			$(this).unbind("mousemove");
		});
		
		/*
		var r = Math.random()*5; [0,1)*5 --> [0,5) 之间的非整数随机数
		r = Math.floor(r); 向下取整
		alert(r);
		*/
	});
  </script>
 </body>
</html>
